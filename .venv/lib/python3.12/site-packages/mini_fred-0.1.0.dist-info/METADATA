Metadata-Version: 2.4
Name: mini-fred
Version: 0.1.0
Summary: Minimal, reproducible Mini-FRED warehouse scaffolding
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: duckdb>=0.10
Requires-Dist: pandas>=2.2
Requires-Dist: pyyaml>=6.0
Requires-Dist: requests>=2.32
Requires-Dist: python-dotenv>=1.0
Provides-Extra: dev
Requires-Dist: pytest>=8.0; extra == "dev"

## Mini-FRED Warehouse

Purpose is to create a deterministic, lightweight subset of key macroeconomic series that can be stored locally in DuckDB and reused for MVES verifiers and promptfoo experiments without requiring a network connection after the initial ingest.

### Quickstart
1. `cd mini-fred`
2. Create a virtual environment (example): `python3 -m venv .venv && source .venv/bin/activate`
3. Install dependencies: `pip install -e .`
4. Provide your FRED key (needed only for online ingest) by creating a `.env` file that contains `FRED_API_KEY=YOUR_KEY` or exporting the variable manually.
5. Run the ingest command (see below) to populate DuckDB + snapshots.
6. Execute QC checks to validate the snapshot.

### Ingest & QC
```
# .env is read automatically; this manual export is optional
export FRED_API_KEY=YOUR_KEY
python scripts/ingest_fred.py --refresh --export-snapshots
python scripts/qc_checks.py
```
The ingest script downloads metadata + observations for CPIAUCSL, UNRATE, FEDFUNDS, PCEPI, and GDPC1 from 2000-01-01 through 2025-12-31, writes them into `data/warehouse.duckdb`, caches raw JSON in `data/raw/`, and optionally exports CSV snapshots under `data/snapshots/`. After a snapshot exists, downstream demos can run offline without reusing the API key because all inputs are already committed.

### Next milestones
- Generate Markdown series cards and snapshot them into `corpus/series_cards`.
- Commit reproducible data snapshots for offline truth checks.
- Wire promptfoo/MVES verifiers to cite the committed series cards.

### Environment variables
- `FRED_API_KEY`: store it in `.env` (preferred) or export it before running ingest. Once snapshots are checked in, the warehouse can be queried offline without this key.
